﻿﻿﻿﻿﻿﻿﻿# CS50 Final Project  ### Video Demo: <URL>### DescriptionThis application will print a report of duplicate tracks in user's Spotify playlists.To be considered duplicates, the tracks must:- Have the same name, ignoring any "Remastered" data. So, for example, "And She Was" and "And She Was - 2003 Remastered" will be considered the same song title. Names are case-insensitive.- Be by the same artist- Be in the same playlistOr, put another way...- Songs with the same name but by different artists will not be considered duplicates.- Songs with the same name but in different playlists will not be considered duplicates of each other- Songs with names having "remastered" verbiage are considered the same as songs having names without that verbiage since they are usually the same song but with better fidelity.### Example PlaylistsLet's use the following Playlist and Track list for illustration.| Playlist | Artist                              | Title                         | Album                                              | |----------|-------------------------------------|-------------------------------|----------------------------------------------------|| My Songs | Talking Heads                       | And She Was - 2003 Remastered | Once in a Lifetime: The Talking Heads Box (2003)   || My Songs | Talking Heads                       | And She Was                   | Little Creatures                                   || My Songs | Neon Trees                          | Animal                        | Habits                                             || My Songs | Def Leppard                         | Animal                        | Hysteria                                           || My Songs | "Weird Al" Yankovic                 | Eat It                        | Weird: The Al Yankovic Story - Original Soundtrack || My Songs | "Weird Al" Yankovic                 | Eat It                        | The Essential "Weird Al" Yankovic                  || My Songs | "Weird Al" Yankovic                 | Eat It                        | In 3-D                                             || My Songs | Bohemian Rhapsody - Live Aid        | Queen                         | Bohemian Rhapsody (The Original Soundtrack)        || My Songs | Bohemian Rhapsody - Remastered 2011 | Queen                         | A Night At The Opera                               || My Songs | Bohemian Rhapsody                   | Queen                         | The Best Songs Of All Time                         || Polka    | "Weird Al" Yankovic                 | Eat It                        | In 3-D                                             |### Detecting DuplicatesWhat is the logic for determining whether each song is a duplicate| Playlist / Title             | Duplicate? | Why?                                                                                                                                                                                                                                                 ||------------------------------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|| My Songs - And She Was       | Yes        | The titles "And She Was" and "And She Was - 2003 Remastered" are considered the same (since the "2003 Remastered" information is ignored) are in the same playlist                                                                                   || My Songs - Animal            | No         | Although the song title "Animal" is duplicated, it is by different artists (Neon Trees and Def Leppard)                                                                                                                                              || My Songs - Eat It            | Yes        | All 3 instances of "Eat It" are considered duplicates because they are by the same artist in the same playlist (even though they are on 3 different albums)                                                                                          || My Songs - Bohemian Rhapsody | Yes and No | "Bohemian Rhapsody" and "Bohemian Rhapsody - Remastered 2011" are considered duplicates same (since the "Remastered 2011" is ignored) but neither would be considered a duplicate of "Bohemian Rhapsody - Live Aid" since they have different titles  || Polka - Eat It               | No         | Even though "Eat It" is duplicated in the "My Songs" playlist, it only appears once in the "Polka" playlist so it is not duplicated within the "Polka" playlist. Only songs that appear more than once in a given playlist are considered duplicates.                                                     |### Sample ReportGiven the above Playlists and Tracks, here's what the report will look like. Reports are sorted by Playlist, Artist, Title, and then Album. Note that even though album is not considered in determining whether a track is a duplicate, it is included in the report.```+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| Playlist   | Artist              | Title                               | Album                                                     |+============+=====================+=====================================+===========================================================+| My Songs   | "Weird Al" Yankovic | Eat It                              | In 3-D                                                    |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | "Weird Al" Yankovic | Eat It                              | The Essential "Weird Al" Yankovic                         |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | "Weird Al" Yankovic | Eat It                              | Weird: The Weird Al Yankovic Story                        |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | Queen               | Bohemian Rhapsody - Remastered 2011 | A Night At The Opera                                      |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | Queen               | Bohemian Rhapsody                   | The Best Songs Of All Time                                |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | Talking Heads       | And She Was - 2003 Remaster         | Once in a Lifetime: The Talking Heads Box (2003 Remaster) |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+| My Songs   | Talking Heads       | And She Was                         | Little Creatures                                          |+------------+---------------------+-------------------------------------+-----------------------------------------------------------+```# Application Details## Usage```python project.py --id|-i [client_id] --secret|-s [client_secret] --user|-u [username]```The credentials (**--id** and **--secret**) and username (**--user**) will need to be passed in as command-line arguments. All are required.- The **client_id** and **client_secret** will need to be set up at https://developer.spotify.com/dashboard. Spotify will ask you to log in with your user credentials and present you with a dashboard.  - Click "Create app"  - Give it any **App name** and **App description** you like  - The **Redirect URIs** must be http://127.0.0.1:9090. This is not actually used, but it must be present exactly as shown for security reasons.  - Select **Web API**  - Spotify will create an "app" with a **Client ID** and **Client Secret**. These are the values you will specify on the command line as **--id** and **--secret**, respectively- The username can be found in Spotify under your user profile (https://www.spotify.com/us/account/profile/)## Requires| Library                                        | What It Does                                      ||------------------------------------------------|---------------------------------------------------|| [spotipy](https://spotipy.readthedocs.io/en)   | Library that simplifies calls to the Spotify API  || [tabulate](https://pypi.org/project/tabulate/) | Pretty-prints tabular data (for reporting)        |# Code Analysis## args.pyReads command line arguments using a single module-level method.| Function | What It Does                                                                                        ||----------|-----------------------------------------------------------------------------------------------------|| get_args | Uses Python's argparse to reads the sys.argv command line arguments and return them as a dictionary |## client.pyContains a single class, SpotifyClient, that is used to make calls to the Spotify API and parse the results.#### SpotifyClient Class| Function                | What It Does                                                                                                                                                                                ||-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|| connect                 | Does all of the stuff needed to connect to Spotify using the passed credentials                                                                                                             || get_playlists           | Returns all of the playlists, as a list of dictionary objects, that are owned by the passed in user. Playlists that are in the user's library, but not owned by the user, are not returned. || get\_tracks\_for_playlist | Return all tracks, as a list of dictionary objects, that are part of the passed playlist                                                                                                    |## project.pyContains several module-level functions that are the main logic of the application.| Function               | What It Does                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ||------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|| main                   | Called when python project.py is run. Contains the main logic for running the app. One thing to note is that main accepts an instance of SpotifyClient, with a default of None. When running from the command line, nothing will be passed in and the app will use the normal **connect** method to establish a connection. When running pytest, a mock SpotifyClient object can be injected that can return known playlists and tracks instead of actually calling Spotify. || normalize_name         | Removes any instances of " - yyyy Remaster" or " - Remastered yyyy" using regex                                                                                                                                                                                                                                                                                                                                                                                              || get\_all\_tracks         | Returns a list of dictionary objects that is all tracks for all playlists belonging to the user                                                                                                                                                                                                                                                                                                                                                                              || add\_track\_keys         | Add keys to the passed dictionary that allow for sorting and equality checks (i.e. is one track the same as another)                                                                                                                                                                                                                                                                                                                                                         || find\_duplicate\_tracks  | Finds duplicates in the passed list of tracks                                                                                                                                                                                                                                                                                                                                                                                                                                || create\_print\_tracks    | Slightly reformats dictionary of duplicate tracks to make it print-friendly                                                                                                                                                                                                                                                                                                                                                                                                  || print_list             | Prints the list of duplicate tracks                                                                                                                                                                                                                                                                                                                                                                                                                                          |